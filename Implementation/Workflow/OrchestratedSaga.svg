<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: OrchestratedSaga Pages: 1 -->
<svg width="718pt" height="170pt"
 viewBox="0.00 0.00 718.00 169.52" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 165.52)">
<title>OrchestratedSaga</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-165.52 714,-165.52 714,4 -4,4"/>
<text text-anchor="middle" x="355" y="-146.32" font-family="Times,serif" font-size="14.00">An example of how an orchestrated saga may be used to implement our order fulfillment process</text>
<!-- OrderProcessor -->
<g id="node1" class="node">
<title>OrderProcessor</title>
<polygon fill="lightblue" stroke="black" points="435.52,-110.76 381.74,-138.28 274.19,-138.28 220.41,-110.76 274.19,-83.24 381.74,-83.24 435.52,-110.76"/>
<text text-anchor="middle" x="327.96" y="-114.16" font-family="Times,serif" font-size="12.00">Order Processor</text>
<text text-anchor="middle" x="327.96" y="-101.16" font-family="Times,serif" font-size="12.00">&lt;&lt;orchestrator&gt;&gt;</text>
</g>
<!-- Warehouse -->
<g id="node2" class="node">
<title>Warehouse</title>
<polygon fill="lightblue" stroke="black" points="250.96,-18 221.46,-36 162.47,-36 132.97,-18 162.47,0 221.46,0 250.96,-18"/>
<text text-anchor="middle" x="191.96" y="-14.9" font-family="Times,serif" font-size="12.00">Warehouse</text>
</g>
<!-- OrderProcessor&#45;&gt;Warehouse -->
<g id="edge1" class="edge">
<title>OrderProcessor&#45;&gt;Warehouse</title>
<path fill="none" stroke="black" d="M248.07,-96.52C213.76,-89.05 179.18,-78.49 168.96,-65 164.26,-58.79 165.43,-51.48 169.02,-44.53"/>
<polygon fill="black" stroke="black" points="172.03,-46.32 174.59,-36.04 166.18,-42.48 172.03,-46.32"/>
<text text-anchor="middle" x="210.46" y="-57" font-family="Times,serif" font-size="10.00">1. Reserve stock</text>
</g>
<!-- OrderProcessor&#45;&gt;Warehouse -->
<g id="edge4" class="edge">
<title>OrderProcessor&#45;&gt;Warehouse</title>
<path fill="none" stroke="black" d="M293.32,-83.16C280.53,-73.66 265.78,-63.07 251.96,-54 245.3,-49.63 238.08,-45.18 231.03,-40.99"/>
<polygon fill="black" stroke="black" points="232.64,-37.88 222.25,-35.84 229.1,-43.92 232.64,-37.88"/>
<text text-anchor="middle" x="309.46" y="-57" font-family="Times,serif" font-size="10.00">4. Send package</text>
</g>
<!-- PaymentGateway -->
<g id="node3" class="node">
<title>PaymentGateway</title>
<polygon fill="lightblue" stroke="black" points="470.67,-18 426.32,-36 337.61,-36 293.26,-18 337.61,0 426.32,0 470.67,-18"/>
<text text-anchor="middle" x="381.96" y="-14.9" font-family="Times,serif" font-size="12.00">Payment Gateway</text>
</g>
<!-- OrderProcessor&#45;&gt;PaymentGateway -->
<g id="edge2" class="edge">
<title>OrderProcessor&#45;&gt;PaymentGateway</title>
<path fill="none" stroke="black" d="M348.37,-82.81C352.41,-77.05 356.47,-70.92 359.96,-65 363.59,-58.85 367.12,-52.02 370.24,-45.53"/>
<polygon fill="black" stroke="black" points="373.45,-46.95 374.51,-36.41 367.1,-43.99 373.45,-46.95"/>
<text text-anchor="middle" x="408.46" y="-57" font-family="Times,serif" font-size="10.00">2. Take payment</text>
</g>
<!-- Loyalty -->
<g id="node4" class="node">
<title>Loyalty</title>
<polygon fill="lightblue" stroke="black" points="577.11,-18 555.03,-36 510.89,-36 488.82,-18 510.89,0 555.03,0 577.11,-18"/>
<text text-anchor="middle" x="532.96" y="-14.9" font-family="Times,serif" font-size="12.00">Loyalty</text>
</g>
<!-- OrderProcessor&#45;&gt;Loyalty -->
<g id="edge3" class="edge">
<title>OrderProcessor&#45;&gt;Loyalty</title>
<path fill="none" stroke="black" d="M393.87,-89.25C413.82,-82.32 435.57,-74.03 454.96,-65 470.4,-57.81 486.73,-48.48 500.44,-40.09"/>
<polygon fill="black" stroke="black" points="502.38,-43.01 509.03,-34.76 498.69,-37.06 502.38,-43.01"/>
<text text-anchor="middle" x="513.46" y="-57" font-family="Times,serif" font-size="10.00">3. Award points</text>
</g>
</g>
</svg>
