<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: ChoreographedSaga Pages: 1 -->
<svg width="538pt" height="613pt"
 viewBox="0.00 0.00 538.00 613.33" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 609.33)">
<title>ChoreographedSaga</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-609.33 534,-609.33 534,4 -4,4"/>
<text text-anchor="middle" x="265" y="-590.13" font-family="Times,serif" font-size="14.00">An example of a choreographed saga for implementing order fulfillment</text>
<!-- OrderPlaced -->
<g id="node1" class="node">
<title>OrderPlaced</title>
<ellipse fill="none" stroke="black" cx="231.47" cy="-558.29" rx="67.76" ry="24.08"/>
<text text-anchor="middle" x="231.47" y="-561.69" font-family="Times,serif" font-size="12.00">Order placed</text>
<text text-anchor="middle" x="231.47" y="-548.69" font-family="Times,serif" font-size="12.00">&lt;&lt;event&gt;&gt;</text>
</g>
<!-- Warehouse -->
<g id="node6" class="node">
<title>Warehouse</title>
<polygon fill="lightblue" stroke="black" points="290.47,-469.25 260.97,-487.25 201.98,-487.25 172.48,-469.25 201.98,-451.25 260.97,-451.25 290.47,-469.25"/>
<text text-anchor="middle" x="231.47" y="-466.15" font-family="Times,serif" font-size="12.00">Warehouse</text>
</g>
<!-- OrderPlaced&#45;&gt;Warehouse -->
<g id="edge1" class="edge">
<title>OrderPlaced&#45;&gt;Warehouse</title>
<path fill="none" stroke="black" d="M231.47,-533.97C231.47,-522.71 231.47,-509.13 231.47,-497.41"/>
<polygon fill="black" stroke="black" points="234.97,-497.29 231.47,-487.29 227.97,-497.29 234.97,-497.29"/>
<text text-anchor="middle" x="260.97" y="-508.25" font-family="Times,serif" font-size="10.00">1. Reacts to</text>
</g>
<!-- StockReserved -->
<g id="node2" class="node">
<title>StockReserved</title>
<ellipse fill="none" stroke="black" cx="231.47" cy="-380.21" rx="75.82" ry="24.08"/>
<text text-anchor="middle" x="231.47" y="-383.61" font-family="Times,serif" font-size="12.00">Stock reserved</text>
<text text-anchor="middle" x="231.47" y="-370.61" font-family="Times,serif" font-size="12.00">&lt;&lt;event&gt;&gt;</text>
</g>
<!-- PaymentGateway -->
<g id="node7" class="node">
<title>PaymentGateway</title>
<polygon fill="lightblue" stroke="black" points="327.18,-291.17 282.83,-309.17 194.12,-309.17 149.77,-291.17 194.12,-273.17 282.83,-273.17 327.18,-291.17"/>
<text text-anchor="middle" x="238.47" y="-288.07" font-family="Times,serif" font-size="12.00">Payment Gateway</text>
</g>
<!-- StockReserved&#45;&gt;PaymentGateway -->
<g id="edge3" class="edge">
<title>StockReserved&#45;&gt;PaymentGateway</title>
<path fill="none" stroke="black" d="M233.35,-355.88C234.26,-344.62 235.35,-331.05 236.29,-319.33"/>
<polygon fill="black" stroke="black" points="239.79,-319.45 237.1,-309.2 232.81,-318.89 239.79,-319.45"/>
<text text-anchor="middle" x="265.97" y="-330.17" font-family="Times,serif" font-size="10.00">3. Reacts to</text>
</g>
<!-- PaymentTaken -->
<g id="node3" class="node">
<title>PaymentTaken</title>
<ellipse fill="none" stroke="black" cx="137.47" cy="-202.12" rx="74.91" ry="24.08"/>
<text text-anchor="middle" x="137.47" y="-205.52" font-family="Times,serif" font-size="12.00">Payment taken</text>
<text text-anchor="middle" x="137.47" y="-192.52" font-family="Times,serif" font-size="12.00">&lt;&lt;event&gt;&gt;</text>
</g>
<!-- PaymentTaken&#45;&gt;Warehouse -->
<g id="edge6" class="edge">
<title>PaymentTaken&#45;&gt;Warehouse</title>
<path fill="none" stroke="black" d="M132.39,-226.23C125.01,-265.48 115.39,-346.56 146.47,-404.25 156.32,-422.53 173.91,-437.1 190.54,-447.68"/>
<polygon fill="black" stroke="black" points="188.74,-450.68 199.11,-452.86 192.36,-444.69 188.74,-450.68"/>
<text text-anchor="middle" x="156.97" y="-330.17" font-family="Times,serif" font-size="10.00">5. Reacts to</text>
</g>
<!-- Loyalty -->
<g id="node8" class="node">
<title>Loyalty</title>
<polygon fill="lightblue" stroke="black" points="181.62,-113.08 159.55,-131.08 115.4,-131.08 93.33,-113.08 115.4,-95.08 159.55,-95.08 181.62,-113.08"/>
<text text-anchor="middle" x="137.47" y="-109.98" font-family="Times,serif" font-size="12.00">Loyalty</text>
</g>
<!-- PaymentTaken&#45;&gt;Loyalty -->
<g id="edge5" class="edge">
<title>PaymentTaken&#45;&gt;Loyalty</title>
<path fill="none" stroke="black" d="M137.47,-177.8C137.47,-166.54 137.47,-152.97 137.47,-141.25"/>
<polygon fill="black" stroke="black" points="140.97,-141.12 137.47,-131.12 133.97,-141.12 140.97,-141.12"/>
<text text-anchor="middle" x="166.97" y="-152.08" font-family="Times,serif" font-size="10.00">5. Reacts to</text>
</g>
<!-- OrderShipped -->
<g id="node4" class="node">
<title>OrderShipped</title>
<ellipse fill="none" stroke="black" cx="397.47" cy="-380.21" rx="72.66" ry="24.08"/>
<text text-anchor="middle" x="397.47" y="-383.61" font-family="Times,serif" font-size="12.00">Order shipped</text>
<text text-anchor="middle" x="397.47" y="-370.61" font-family="Times,serif" font-size="12.00">&lt;&lt;event&gt;&gt;</text>
</g>
<!-- PointsAwarded -->
<g id="node5" class="node">
<title>PointsAwarded</title>
<ellipse fill="none" stroke="black" cx="137.47" cy="-24.04" rx="77.56" ry="24.08"/>
<text text-anchor="middle" x="137.47" y="-27.44" font-family="Times,serif" font-size="12.00">Points awarded</text>
<text text-anchor="middle" x="137.47" y="-14.44" font-family="Times,serif" font-size="12.00">&lt;&lt;event&gt;&gt;</text>
</g>
<!-- Warehouse&#45;&gt;StockReserved -->
<g id="edge2" class="edge">
<title>Warehouse&#45;&gt;StockReserved</title>
<path fill="none" stroke="black" d="M231.47,-451.05C231.47,-440.6 231.47,-426.91 231.47,-414.42"/>
<polygon fill="black" stroke="black" points="234.97,-414.3 231.47,-404.3 227.97,-414.3 234.97,-414.3"/>
<text text-anchor="middle" x="252.47" y="-425.25" font-family="Times,serif" font-size="10.00">2. Emits</text>
</g>
<!-- Warehouse&#45;&gt;OrderShipped -->
<g id="edge7" class="edge">
<title>Warehouse&#45;&gt;OrderShipped</title>
<path fill="none" stroke="black" d="M262.7,-451.88C287.61,-438.81 322.89,-420.31 351.11,-405.52"/>
<polygon fill="black" stroke="black" points="352.77,-408.6 360,-400.86 349.52,-402.4 352.77,-408.6"/>
<text text-anchor="middle" x="335.47" y="-425.25" font-family="Times,serif" font-size="10.00">6. Emits</text>
</g>
<!-- PaymentGateway&#45;&gt;PaymentTaken -->
<g id="edge4" class="edge">
<title>PaymentGateway&#45;&gt;PaymentTaken</title>
<path fill="none" stroke="black" d="M218.52,-272.97C204.91,-261.24 186.56,-245.43 170.76,-231.81"/>
<polygon fill="black" stroke="black" points="172.63,-228.8 162.77,-224.93 168.06,-234.11 172.63,-228.8"/>
<text text-anchor="middle" x="218.47" y="-247.17" font-family="Times,serif" font-size="10.00">4. Emits</text>
</g>
<!-- Loyalty&#45;&gt;PointsAwarded -->
<g id="edge8" class="edge">
<title>Loyalty&#45;&gt;PointsAwarded</title>
<path fill="none" stroke="black" d="M137.47,-94.89C137.47,-84.44 137.47,-70.74 137.47,-58.25"/>
<polygon fill="black" stroke="black" points="140.97,-58.14 137.47,-48.14 133.97,-58.14 140.97,-58.14"/>
<text text-anchor="middle" x="158.47" y="-69.08" font-family="Times,serif" font-size="10.00">6. Emits</text>
</g>
</g>
</svg>
